<!DOCTYPE html>
<html> lang="es">
<head>
<meta charset="utf-8">
<title>Parámetros, tiempos de concentración y Penman</title>
<link rel='stylesheet' type='text/css' href='estilos.css' />
<script type="text/javascript" src="zepto.min.js" ></script>
<!--<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>-->
<script type="text/javascript" src="cordova.js"></script>
</head>
<body>

</script>
</head>
<body>
<div class="container">
<nav class="navbar navbar-inverse ">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#miMenu">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">MENÚ</a>
    </div>
    <div class="collapse navbar-collapse" id="miMenu">
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">Parámetros de una cuenca</a></li>
		<li><a href="Gumbell.html">Caudales máximos con Gumbell</a></li>
		<li><a href="Penman.html">Evapotranspiración con Penman</a></li>
		<li><a href="Autor.html">Acerca del autor</a></li>
      </ul>
    </div>
  </div>
</nav>
	
<h1>INGRESO DE DATOS</h1>
<h3>Ingresar parámetros base de la cuenca</h3>
Perímetro de la cuenca
<input id="Pr_in" type="number" value=434.06>km<br>
Área de la cuenca
<input id="Ar_in" type="number" value=4333.91>Km2<br>
Longitud del río más largo
<input id="Lc_in" type="number" value=155.89>Km<br>
Altitud mayor de la cuenca
<input id="HM_in" type="number" value=5400>msnm<br>
Altitud menor de la cuenca
<input id="Hm_in" type="number" value=0>msnm<br>
Altitud mayor del río
<input id="HMr_in" type="number" value=5300>msnm<br>
Longitud total de ríos
<input id="Li_in" type="number" value=2479.04>Km<br>
Número total de ríos
<input id="Tr_in" type="number" value=1289>ríos<br>
Altitud media de cuenca
<input id="Hmd_in" type="number" value=3096.32>msnm<br>
Ríos de primer orden
<input id="N1_in" type="number" value=737>ríos<br><br>

Precisión de decimales
<input id="decimales_in" type="number" value=4><br>
<input id="formula_ch" type="checkbox">Mostrar fórmula</input><br>
<br><button type="submit" id="Botón">CONSULTAR</button> <button type="button" id="Botón_borrar">BORRAR</button><br><br><br>

<div id="respuestas">
<div id="Título1"></div>
<div id="Cuadro1"></div>
<div id="Cuadro1a" class="CuadroFormula"></div>
<div id="Cuadro2"></div>
<div id="Cuadro2a" class="CuadroFormula"></div>
<div id="Cuadro3"></div>
<div id="Cuadro3a" class="CuadroFormula"></div>
<div id="Cuadro4"></div>
<div id="Cuadro4a" class="CuadroFormula"></div>
<div id="Cuadro5"></div>
<div id="Cuadro5a" class="CuadroFormula"></div>
<div id="Cuadro6"></div>
<div id="Cuadro6a" class="CuadroFormula"></div>
<div id="Cuadro7"></div>
<div id="Cuadro7a" class="CuadroFormula"></div>
<div id="Cuadro8"></div>
<div id="Cuadro8a" class="CuadroFormula"></div>
<div id="Cuadro9"></div>
<div id="Cuadro9a" class="CuadroFormula"></div>
<div id="Cuadro10"></div>
<div id="Cuadro10a" class="CuadroFormula"></div>
<div id="Cuadro11"></div>
<div id="Cuadro11a" class="CuadroFormula"></div>
<div id="Cuadro12"></div>
<div id="Cuadro12a" class="CuadroFormula"></div>
<div id="Cuadro13"></div>
<div id="Cuadro13a" class="CuadroFormula"></div>

<div id="Título2"></div>
<div id="Cuadro14"></div>
<div id="Cuadro14a" class="CuadroFormula"></div>
<div id="Cuadro15"></div>
<div id="Cuadro15a" class="CuadroFormula"></div>
<div id="Cuadro16"></div>
<div id="Cuadro16a" class="CuadroFormula"></div>
<div id="Cuadro17"></div>
<div id="Cuadro17a" class="CuadroFormula"></div>
<div id="Cuadro18"></div>
<div id="Cuadro18a" class="CuadroFormula"></div>
<div id="Cuadro20"></div>
<div id="Cuadro20a" class="CuadroFormula"></div>
<div id="Cuadro21"></div>
<div id="Cuadro21a" class="CuadroFormula"></div>
<div id="Cuadro22"></div>
<div id="Cuadro22a" class="CuadroFormula"></div>
<div id="Cuadro24"></div>
<div id="Cuadro24a" class="CuadroFormula"></div>
<div id="Cuadro25"></div>
<div id="Cuadro25a" class="CuadroFormula"></div>
<div id="Cuadro26"></div>
<div id="Cuadro26a" class="CuadroFormula"></div>
</div>

<script type="text/javascript">

$(function(){
	//Pulsa el botón "CONSULTAR" al estar en un campo input y presionar enter
	$("input").keypress(function(e){
		if (e.which === 13)
			$("#Botón").click();
	});
	//Función al presionar el botón "CALCULAR"
	$("#Botón").on('click', function(){
		var Pr = document.getElementById('Pr_in').value;
		var Ar = document.getElementById('Ar_in').value;
		var Lc = document.getElementById('Lc_in').value;
		var HM = document.getElementById('HM_in').value;
		var Hm = document.getElementById('Hm_in').value;
		var HMr = document.getElementById('HMr_in').value;
		var Li = document.getElementById('Li_in').value;
		var Tr = document.getElementById('Tr_in').value;
		var Hmd = document.getElementById('Hmd_in').value;
		var N1 = document.getElementById('N1_in').value;
		
		var Lt = document.getElementById('Lt_in').value;
		var Mes = document.getElementById('Mes_in').value;
		var di = 0;
		var ns = document.getElementById('ns_in').value;
		var TC = document.getElementById('TC_in').value;
		var Hr = document.getElementById('Hr_in').value;
		var Ab = document.getElementById('Ab_in').value;
		var Vt = document.getElementById('Vt_in').value;
		
		var decimal = document.getElementById('decimales_in').value;
		
		
		var IC = (0.28*Pr)/Math.pow(Ar,0.5);
		var AM = Ar/Lc;
		var FF = Ar/Math.pow(Lc,2);
		var REL = 1.128*Math.pow(Ar,0.5)/Lc;
		var LMY = Pr/4+Math.pow(Math.pow(Pr/4,2)-Ar,0.5);
		var LMN = Pr/2-LMY;
		var SC100c = (HM-Hm)/1000/LMY*100;
		var SR100c = 100*(HMr-Hm)/(1000*Lc);
		var DD = Li/Ar;
		var FR = Tr/Ar;
		var ES = Ar/(4*Li);
		var CT = N1/Ar;
		var CM = Hmd/Ar;
		
		var TcTM = 0.3*Math.pow((Lc/Math.pow(SR100c,0.25)),0.75);
		var TcWLL=(58.5*Lc*0.6213712/(Math.pow(Ar,0.1)*Math.pow(SR100c,0.2)))/60;
		var TcKP=0.066*Math.pow(Lc/Math.pow(SR100c/100,1/2),0.77);
		var TcCK=60*0.0195*Math.pow(Math.pow(Lc,3)/(HM-Hm),0.385);
		var TcGI=(4*Math.pow(Ar,1/2)+1.5*Lc)/(0.8*Math.pow(Hmd,1/2));
		var TcVH=Lc/SR100c;
		var TcBW=Lc/(1.5*Math.pow(4*Ar/Math.PI,1/2))*(Math.pow(Math.pow(Ar,2)/SR100c,1/5));
		var TcPS=Lc/Math.pow(Ar,1/2)*Math.pow(Ar*Lc,1/3)/Math.pow(SR100c,1/2);
		var TcDC=0.3*(Math.pow(Lc/Math.pow(SR100c/100,0.25),0.76));
		var TcUSDA=3.3*Lc*1000*Math.pow((HM-Hm)/(Lc*1000),1/2);
		var TcAG=0.0479*Math.pow(Ar,3)-0.3012*Math.pow(Ar,2)+0.7342*Ar+0.0336;
		
		var R1 = "Índice de compacidad: " + IC.toFixed(decimal) + " ";
		var R1a = "(0.28*'Perímetro cuenca')/('Área cuenca'^0.5) = " + "(0.28*"+Pr+"Km)/("+Ar+"Km²^0.5)<pre></pre>";
		var R2 = "Ancho medio: " + AM.toFixed(decimal) + " Km";
		var R2a = "'Área cuenca'/'Longitud río ´principal' = " + Ar+"Km²/"+Lc+"Km<pre></pre>";
		var R3 = "Factor de forma: " + FF.toFixed(decimal) + " ";
		var R3a = "'Área cuenca'/('Longitud río principal'^2) = " + Ar+"Km²/("+Lc+"Km^2)<pre></pre>";
		var R4 = "Relación Elongación: " + REL.toFixed(decimal) + " ";
		var R4a = "(1.128*('Área cuenca'^0.5))/'Longitud río principal' = " + "(1.128*("+Ar+"Km²^0.5))/"+Lc+"Km<pre></pre>";
		var R5 = "Lado mayor del rectangulo equivalente: " + LMY.toFixed(decimal) + " Km";
		var R5a = "('Perímetro cuenca'/4)+(((('Perímetro cuenca'/4)^2)-'Área cuenca')^0.5) = " + "("+Pr+"Km/4)+(((("+Pr+"Km/4)^2)-"+Ar+"Km²)^0.5)<pre></pre>";
		var R6 = "Lado menor del rectangulo equivalente: " + LMN.toFixed(decimal) + " Km";
		var R6a = "'Perímetro cuenca'/2-'Lado mayor rectangulo equivalente' = " + Pr+"Km/2-"+LMY.toFixed(decimal)+"Km<pre></pre>";
		var R7 = "Pendiente media de la cuenca: " + SC100c.toFixed(decimal) + " %";
		var R7a = "('Altitud mayor cuenca'-'Altitud menor cuenca')/1000/'Lado mayor rectangulo equivalente'*100 = " + "("+HM+"m-"+Hm+"m)/1000/"+LMY.toFixed(decimal)+"Km*100<pre></pre>";
		var R8 = "Pendiente media del río principal: " + SR100c.toFixed(decimal) + " %";
		var R8a = "100*('Altitud mayor del río'-'Altitud menor cuenca')/(1000*'Longitud río principal') = " + "100*("+HMr+"m-"+Hm+"m)/(1000*"+Lc+"Km)<pre></pre>";
		var R9 = "Densidad de drenaje: " + DD.toFixed(decimal) + " km/km2";
		var R9a = "'Longitud total de ríos'/'Área cuenca' = " + Li+"Km/"+Ar+"Km²<pre></pre>";
		var R10 = "Frecuencia de ríos: " + FR.toFixed(decimal) + " ríos/km2";
		var R10a = "'Total de ríos'/'Área cuenca' = " + Tr+"ríos/"+Ar+"Km²<pre></pre>";
		var R11 = "Extensión media de escurrimientos superficial: " + ES.toFixed(decimal) + " Km";
		var R11a = "'Área cuenca'/(4*'Longitud total de ríos') = " + Ar+"Km²/(4*"+Li+"Km)<pre></pre>";
		var R12 = "Coeficiente de torrencialidad: " + CT.toFixed(decimal) + " ríos/km2";
		var R12a = "'Ríos de primer orden'/'Área cuenca' = " + N1+"ríos/"+Ar+"Km²<pre></pre>";
		var R13 = "Coeficiente de masividad: " + CM.toFixed(decimal) + " m/km2";
		var R13a = "'Altitud media cuenca'/'Área cuenca' = " + Hmd+"m/"+Ar+"Km²<pre></pre>";
		
		var R14 = "Tiempo de concentración (Témez): " + TcTM.toFixed(decimal) + " h";
		var R14a = "0.3*('Longitud río principal'/('Pendiente río principal'^0.25))^0.75 = " + "0.3*(" + Lc + "Km/" + SR100c.toFixed(decimal) + "%^0.25)^0.75<pre></pre>";
		var R15 = "Tiempo de concentración (Williams): " + TcWLL.toFixed(decimal) + " h";
		var R15a = "(58.5*'Longitud río principal'*0.6213712/(('Área cuenca'^0.1)*('Pendiente río principal'^0.2)))/60 = " + "(58.5*" +Lc+ "Km*0.6213712/(("+Ar+"Km²^0.1)*("+SR100c.toFixed(decimal)+"%^0.2)))/60<pre></pre>";
		var R16 = "Tiempo de concentración (Kirpich): " + TcKP.toFixed(decimal) + " h";
		var R16a = "0.066*('Longitud río principal'/('Pendiente río principal'/100)^0.5)^0.77 = " + "0.066*("+Lc+"Km/("+SR100c.toFixed(decimal)+"%/100)^0.5)^0.77<pre></pre>";
		var R17 = "Tiempo de concentración (California Kirpich): " + TcCK.toFixed(decimal) + " h";
		var R17a = "60*0.0195*(('Longitud río principal'^3)/('Altitud mayor'-'Altitud menor'))^0.385 = " + "60*0.0195*(("+Lc+"Km^3)/("+HM+"m-"+Hm+"m))^0.385<pre></pre>";
		var R18 = "Tiempo de concentración (Giandotti): " + TcGI.toFixed(decimal) + " h";
		var R18a = "(4*('Área cuenca'^0.5)+(1.5*'Longitud río principal'))/(0.8*('Altitud media cuenca'^0.5)) = " + "(4*("+Ar+"Km²^0.5)+(1.5*"+Lc+"Km))/(0.8*("+Hmd+"m^0.5))<pre></pre>";
		var R20 = "Tiempo de concentración (Ventura-Heras): " + TcVH.toFixed(decimal) + " h";
		var R20a = "'Longitud río principal'/'Pendiente río principal' = " +Lc+"Km/"+SR100c.toFixed(decimal)+"%<pre></pre>";
		var R21 = "Tiempo de concentración (Bransby-Williams): " + TcBW.toFixed(decimal) + " h";
		var R21a = "'Longitud río principal'/(1.5*(4*'Área cuenca'/PI)^0.5)*((('Área cuenca'^2)/'Pendiente río principal')^0.5) = " + Lc+"Km/(1.5*(4*"+Ar+"Km²/"+Math.PI.toFixed(decimal)+")^0.5)*((("+Ar+"Km²^2)/"+SR100c.toFixed(decimal)+"%)^0.2)<pre></pre>";
		var R22 = "Tiempo de concentración (Passini): " + TcPS.toFixed(decimal) + " h";
		var R22a = "'Longitud río principal'/('Área cuenca'^0.5)*(('Área cuenca'*'Longitud río principal')^(1/3))/('Pendiente río principal'^0.5) = " + Lc+"Km/("+Ar+"Km²^0.5)*(("+Ar+"Km²*"+Lc+"km)^(1/3)/("+SR100c.toFixed(decimal)+"%^0.5))<pre></pre>";
		var R24 = "Tiempo de concentración (Dirección general de carreteras " + TcDC.toFixed(decimal) + " h";
		var R24a = "0.3*(('Longitud río principal'/('Pendiente río principal'/100)^0.25)^0.76) = " + "0.3*(("+Lc+"Km/("+SR100c.toFixed(decimal)+"%/100)^0.25)^0.76)<pre></pre>";
		var R25 = "Tiempo de concentración (Soil Conservation Service - USDA): " + TcUSDA.toFixed(decimal) + " h";
		var R25a = "3.3*'Longitud río principal'*1000*(('Altitud mayor'-'Altitud menor')/('Longitud río principal'*1000))^0.5 = " + "3.3*"+Lc+"Km*1000*(("+HM+"m-"+Hm+"m)/("+Lc+"Km*1000))^0.5<pre></pre>";
		var R26 = "Tiempo de concentración (Agres): " + TcAG.toFixed(decimal) + " h";
		var R26a = "0.0479*('Área cuenca'^3)-0.3012*('Área cuenca'^2)+0.7342*'Área cuenca'+0.0336 = " + "0.0479*("+Ar+"Km²^3)-0.3012*("+Ar+"Km²^2)+0.7342*"+Ar+"Km²+0.0336<pre></pre>";
		
		$("#respuestas").show();
		if (document.getElementById("formula_ch").checked) {
			$(".CuadroFormula").show();
		} else {
			$(".CuadroFormula").hide();
		}

		$('#Cuadro1').html(R1);
		$('#Cuadro1a').html(R1a);
		$('#Cuadro2').html(R2);
		$('#Cuadro2a').html(R2a);
		$('#Cuadro3').html(R3);
		$('#Cuadro3a').html(R3a);
		$("#Cuadro4").html(R4);
		$("#Cuadro4a").html(R4a);
		$("#Cuadro5").html(R5);
		$("#Cuadro5a").html(R5a);
		$("#Cuadro6").html(R6);
		$("#Cuadro6a").html(R6a);
		$("#Cuadro7").html(R7);
		$("#Cuadro7a").html(R7a);
		$("#Cuadro8").html(R8);
		$("#Cuadro8a").html(R8a);
		$("#Cuadro9").html(R9);
		$("#Cuadro9a").html(R9a);
		$("#Cuadro10").html(R10);
		$("#Cuadro10a").html(R10a);
		$("#Cuadro11").html(R11);
		$("#Cuadro11a").html(R11a);
		$("#Cuadro12").html(R12);
		$("#Cuadro12a").html(R12a);
		$("#Cuadro13").html(R13);
		$("#Cuadro13a").html(R13a);
		
		$("#Cuadro14").html(R14);
		$("#Cuadro14a").html(R14a);
		$("#Cuadro15").html(R15);
		$("#Cuadro15a").html(R15a);
		$("#Cuadro16").html(R16);
		$("#Cuadro16a").html(R16a);
		$("#Cuadro17").html(R17);
		$("#Cuadro17a").html(R17a);
		$("#Cuadro18").html(R18);
		$("#Cuadro18a").html(R18a);
		$("#Cuadro20").html(R20);
		$("#Cuadro20a").html(R20a);
		$("#Cuadro21").html(R21);
		$("#Cuadro21a").html(R21a);
		$("#Cuadro22").html(R22);
		$("#Cuadro22a").html(R22a);
		$("#Cuadro24").html(R24);
		$("#Cuadro24a").html(R24a);
		if (Ar<12.5) {$("#Cuadro25").html(R25);} else {$("#Cuadro25").html("")};
		if (Ar<12.5) {$("#Cuadro25a").html(R25a);} else {$("#Cuadro25a").html("")};
		if (Ar<4.05) {$("#Cuadro26").html(R26);} else {$("#Cuadro26").html("")};
		if (Ar<4.05) {$("#Cuadro26a").html(R26a);} else {$("#Cuadro26a").html("")};
		
		$("#Título1").html("<h2>PARÁMETROS FISIOGRÁFRICOS DE LA CUENCA</h2>");
		$("#Título2").html("<h2>TIEMPO DE CONCENTRACIÓN DE LA CUENCA</h2>");
	});
});
</script>
</body>
</html>
